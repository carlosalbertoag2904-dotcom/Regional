/* =========================================================
   PÁGINA PRINCIPAL (oscuro) — Estilos exclusivos de esta vista
   ========================================================= */

/* ========= VARIABLES EDITABLES (FÁCIL) ========= */
:root{
  /* Tipografía / colores base */
  --ff: system-ui, -apple-system, "Segoe UI", Roboto, Arial, sans-serif;
  --text: #eef2f6; --text-dim: #cfd6de; --muted: #9aa4b2;

  /* Fondo */
  --bg-image: url("gpt7.jpg");
  --overlay: linear-gradient(180deg, rgba(0,0,0,.70), rgba(0,0,0,.70));

  /* Superficies / bordes / sombras */
  --surface-1: rgba(36,37,39,.88);
  --surface-2: rgba(20,21,22,.86);
  --line: rgba(255,255,255,.12);
  --hdr-bg: rgba(8,9,11,0.55); --hdr-bd: rgba(255,255,255,.08);
  --shadow-card: 0 10px 28px rgba(0,0,0,.25);
  --shadow-pop: 0 16px 40px rgba(0,0,0,.40);
  --radius: 12px;

  /* --- PERFIL --- */
  --profile-h: 80svh;          /* alto ≈ 80% del alto de pantalla */
  --profile-aspect: 1 / 1.05;  /* casi cuadrado */
  --profile-pad: 20px;
  --profile-img-size: clamp(120px, 56%, 180px);

  /* --- BOTONERA --- */
  --grid-w: 80%;               /* ancho del bloque de botones dentro del panel derecho */
  --gap: clamp(14px, 2.4vw, 22px);
  --tile-max: 280px;           /* límite superior para que no crezcan demasiado */
  --bar-h: 74px;               /* un poquito más alto */
  --tile-bg: #6d6d6d; --tile-bd: rgba(255,255,255,.15); --tile-bg-hover: #424242;
}

/* ========= BASE / ESTRUCTURA ========= */
*{ box-sizing:border-box; }
html, body{ height:100%; }

body{
  margin:0; font-family:var(--ff); color:var(--text);
  background: var(--overlay), var(--bg-image) center / cover no-repeat fixed;
  overflow: hidden;                           /* sin scroll vertical */
  display: grid; grid-template-rows: auto 1fr auto; /* header, main, footer */
}

/* Header */
header{
  display:flex; align-items:center; justify-content:space-between;
  gap:16px; padding:14px 28px;
  background: var(--hdr-bg); border-bottom: 1px solid var(--hdr-bd);
  -webkit-backdrop-filter: blur(8px); backdrop-filter: blur(8px);
  box-shadow: 0 6px 20px rgba(0,0,0,.20);
  position:relative; z-index:10;
}
.logo_direca img{ width:70px; display:block; }
.logo img{ width: clamp(160px, 22vw, 300px); display:block; }
nav{ flex:1 1 auto; display:flex; justify-content:center; }
.nav-links{ display:flex; align-items:center; gap:22px; list-style:none; margin:0; padding:0; }
.nav-links a{
  display:inline-flex; align-items:center; gap:8px; padding:8px 12px; border-radius:8px;
  font-weight:700; color:var(--text); text-decoration:none;
  transition: background-color .18s ease, transform .18s ease;
}
.nav-links a:hover{ background: rgba(255,255,255,.10); transform: translateY(-1px); }
.boton_salida a{ background: rgba(255,255,255,.14); border:1px solid var(--hdr-bd); border-radius:10px; font-weight:800; }

/* Dropdown “Datos de la Empresa” */
.nav-dropdown{ position:relative; }
.nav-dropdown > .has-caret::after{ content:"▾"; margin-left:6px; font-size:12px; opacity:.85; }
.dropdown-menu{
  position:absolute; top: calc(100% + 10px); left:0; min-width:240px;
  padding:8px; border-radius:12px; background: rgba(16,18,20,.96);
  border:1px solid var(--line); box-shadow: var(--shadow-pop);
  display:grid; gap:6px; opacity:0; pointer-events:none; transform: translateY(-6px);
  transition: opacity .18s ease, transform .18s ease; z-index:60;
}
.nav-dropdown.open > .has-caret{ background: rgba(255,255,255,.10); transform: translateY(-1px); }
.nav-dropdown.open .dropdown-menu{ opacity:1; pointer-events:auto; transform: translateY(0); }
.dropdown-menu a{ display:flex; align-items:center; justify-content:space-between; padding:10px 12px; border-radius:8px; color:#fff; font-weight:700; }
.dropdown-menu a:hover{ background: rgba(255,255,255,.10); }

/* YearTab */
.nav-links .year-tab{ display:inline-block; position:relative; }
.year-tab .yt-pill{
  display:inline-flex; align-items:center; gap:.5rem; padding:8px 12px; border-radius:999px;
  color:var(--text); font-weight:800; background: rgba(255,255,255,.08); border: 1px solid var(--hdr-bd);
  transition: background-color .18s ease, transform .18s ease;
}
.year-tab .yt-pill::after{ content:"▾"; font-size:12px; opacity:.9; }
.year-tab .yt-pill:hover{ background: rgba(255,255,255,.14); transform: translateY(-1px); }
.year-tab .yt-pop{
  position:absolute; right:0; top: calc(100% + 10px); min-width: 160px; padding:8px; border-radius:12px;
  background: rgba(16,18,20,.96); border: 1px solid var(--line); box-shadow: var(--shadow-pop);
}
.year-tab .yt-list{ list-style:none; margin:0; padding:0; max-height:240px; overflow:auto; }
.year-tab .yt-item{ padding:10px 12px; border-radius:8px; color:#fff; cursor:pointer; font-weight:700; }
.year-tab .yt-item:hover{ background: rgba(255,255,255,.10); }
.year-tab .yt-item.active{ background: rgba(255,255,255,.18); }

/* ========= LAYOUT PRINCIPAL ========= */
main.container{
  height:100%;
  display:grid;
  grid-template-columns: auto 1fr;      /* perfil + panel derecho */
  align-items:center;
  gap: clamp(16px, 4vw, 48px);
  padding: clamp(8px, 2vh, 20px);
}
.left-panel{ display:flex; align-items:center; justify-content:center; }
.right-panel{ display:flex; align-items:center; justify-content:center; }

/* ---- PERFIL (casi cuadrado, alto 80svh; ancho desde aspect-ratio) ---- */
.info-box{
  height: var(--profile-h);
  max-height: 100%;
  aspect-ratio: var(--profile-aspect);
  width: auto;                           /* se calcula desde el aspect-ratio */
  min-width: 300px;                       /* para que no colapse si la ventana es muy estrecha */
  padding: var(--profile-pad);
  border-radius: 18px;
  background: rgba(86, 86, 86, 0.232);
  border:1px solid rgba(255,255,255,.16);
  -webkit-backdrop-filter: blur(6px);
  backdrop-filter: blur(6px);
  color:var(--text);
  box-shadow: var(--shadow-card);

  display:grid;
  grid-template-rows: auto auto auto auto;
  align-content:center; justify-items:center;
  row-gap: 8px;
  text-align:center;
}

/* Foto cuadrada y centrada */
.info-box > img{
  width: var(--profile-img-size);
  aspect-ratio: 1 / 1;
  object-fit: cover;
  border-radius: 14px;
  border:1px solid rgba(255,255,255,.12);
  box-shadow: 0 10px 30px rgba(0,0,0,.35);
  margin-bottom: 6px;
}

/* Textos del perfil */
.user-name{ margin:0; font-weight:800; letter-spacing:.1px; font-size: clamp(16px, 1.6vw, 20px); text-shadow: 0 2px 8px rgba(0,0,0,.5); }
.name-slot{ margin-top:10px; font-weight:700; font-size: clamp(14px, 1.4vw, 16px); }
.asesoria-slot{ margin-top:2px; color:#f1f1f1; font-weight:600; font-size: clamp(13px, 1.3vw, 15px); }

/* ---- BOTONERA (no depende del perfil) ---- */
.button-grid{
  width: var(--grid-w);
  max-width: calc((var(--tile-max) * 3) + (var(--gap) * 2));
  margin: 0 auto;

  display:grid;
  grid-template-columns: repeat(3, 1fr); /* 3 columnas iguales dentro del 80% */
  gap: var(--gap);
  align-content:center;
  justify-items:stretch;
}

/* Tiles cuadrados */
.menu-button{
  background: var(--tile-bg); border: 1px solid var(--tile-bd);
  border-radius: var(--radius); color:#fff; text-decoration:none;
  display:grid; place-items:center; text-align:center;
  box-shadow: var(--shadow-card);
  transition: transform .18s ease, background-color .18s ease, box-shadow .2s ease;
  aspect-ratio: 1 / 1;
}
.menu-button:hover{ background: var(--tile-bg-hover); transform: translateY(-2px); box-shadow: 0 18px 40px rgba(0,0,0,.35); }
.mb-icon img{ width:64px; height:64px; object-fit:contain; display:block; }
.mb-label{ display:block; margin-top:10px; font-weight:800; font-size: clamp(13px, 1.05rem, 1.1rem); }

/* Barra inferior: ícono ENCIMA del texto, centrado, y más alta */
.menu-button--wide{
  grid-column: 1 / -1;
  height: var(--bar-h);
  aspect-ratio: auto;
  display:flex;
  flex-direction: column;          /* ícono arriba, texto abajo */
  align-items:center;
  justify-content:center;
  gap: 6px;
  padding: 6px 12px;
}
.menu-button--wide .mb-label{ margin-top: 0; }
.mb-icon--small img{ width:28px; height:28px; }  /* un pelín más grande */

/* Alturas bajas */
@media (max-height: 750px){
  :root{
    --bar-h: clamp(48px, 7vh);
    --profile-h: 76svh;
  }
}

/* Muy estrecho (móvil) */
@media (max-width: 640px){
  .button-grid{ grid-template-columns: repeat(2, 1fr); }
}
@media (max-width: 420px){
  .button-grid{ grid-template-columns: 1fr; }
}
